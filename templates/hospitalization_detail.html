{% extends "base.html" %}


{% block content %}


    <h1 class="p-8 text-3xl font-bold text-center">{{ title }}</h1>
 

    <div class="flex justify-center">
        <table class="table-fixed w-2/3 border">
            <tbody>
                <tr>
                    <td class="border p-2 font-bold">First Name</td>
                    <td class="border p-2">{{ hospitalization.patient.first_name }}</td>
                    <td class="border p-2 font-bold">Last Name</td>
                    <td class="border p-2">{{ hospitalization.patient.last_name }}</td>
                </tr>
    
                
            </tbody>
        </table>

    </div>
    <a href="{% url 'department:transfer' hospitalization.patient.id hospitalization.id %}">Transfer Patient</a>
    <a href="{% url 'department:discharge' hospitalization.id %}">Discharge Patient</a>

   
    <a href="{% url 'department:observation_create'  hospitalization.patient.id hospitalization.id%}" class="py-4 px-6 bg-zinc-500 rounded-xl text-white">Add Observation</a>
    {% if observations %}
        <h2>Patient observations:</h2>
        <ul>
            {% for observation in observations %}
            <div class="border p-4 rounded-md">
                <p class="text-lg">{{ observation.observation }}</p>
                <div class="flex justify-between text-sm text-gray-500 mt-2">
                    {% if observation.created_by == user %}
                    <a href="{% url 'department:observation_update' hospitalization.patient.id hospitalization.id observation.id %}" class="font-bold text-black">Edit</a>                    {% endif %}
                    <p>Created by: {{ observation.created_by.first_name }} {{ observation.created_by.last_name }}</p>
                    <p>Created at: {{ observation.created_at|date:"F j, Y H:i" }}</p>
                    <p>Modified at: {{ observation.modified_at|date:"F j, Y H:i" }}</p>
                </div>
            </div>
            {% endfor %}
            

        </ul>
    {% else %}
        <p>No observations for this hospitalization.</p>
    {% endif %}

 


{% endblock %}